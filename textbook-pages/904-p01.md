# 904: Popout Component

**Status:** Planning
**Depends On:** 307-popout-context-service, 308-popout-manager-service, 315-popout-token
**Blocks:** 905-app-routing-module

---

## Learning Objectives

After completing this section, you will:
- Understand how to create a layout component for pop-out windows
- Know how to use injection tokens to identify pop-out context
- Be able to synchronize state between main window and pop-out windows using BroadcastChannel

---

## Objective

Build the Popout component — a minimal layout shell that hosts framework components in separate browser windows. This enables multi-monitor workflows where users can pop out charts, tables, or query panels to secondary displays while the main window remains focused on other tasks.

---

## Why

Professional data analysis workflows often span multiple monitors. A user might want:

- **Primary monitor:** Main discovery interface with filters
- **Secondary monitor:** Large chart for detailed visualization
- **Third monitor:** Results table for data review

The Popout component makes this possible by:

1. **Providing a Shell** — A minimal container for the popped-out component
2. **Managing Context** — Setting up domain configuration for child components
3. **Synchronizing State** — Receiving state updates from the main window
4. **Forwarding Actions** — Sending user interactions back to the main window

### The Pop-Out Architecture

Pop-out windows don't fetch data independently. Instead:

```
Main Window (source of truth)
    ├── Makes API calls
    ├── Manages URL state
    ├── Broadcasts state updates
    │
    └─── [BroadcastChannel] ───→ Pop-Out Window
                                    ├── Receives state
                                    ├── Renders UI
                                    └── Sends actions back
```

This design ensures consistency: all data flows from one source, and pop-outs are essentially "remote views" of the main window's state.

### Angular Style Guide References

- [Style 05-02](https://angular.io/guide/styleguide#style-05-02): Use services for shared functionality
- [Style 07-01](https://angular.io/guide/styleguide#style-07-01): Define small, focused components