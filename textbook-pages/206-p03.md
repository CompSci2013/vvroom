---

### Step 206.2: Update the Barrel Export

Update `src/app/framework/models/index.ts` to include the new interface:

```typescript
// src/app/framework/models/index.ts

// This barrel file exports all framework model interfaces.
// Import from '@app/framework/models' instead of individual files.

export * from './domain-config.interface';
export * from './resource-management.interface';
export * from './filter-definition.interface';
export * from './table-config.interface';
export * from './picker-config.interface';
export * from './api-response.interface';
```

---

### Step 206.3: Understand the Response Types

The API response interfaces cover three scenarios:

| Interface | Use Case | Example |
|-----------|----------|---------|
| `ApiResponse<T>` | Paginated list endpoints | `GET /vehicles?page=1&size=20` |
| `ApiSuccessResponse<T>` | Non-paginated success responses | `POST /vehicles` (create) |
| `ApiErrorResponse` | Error responses | Any failed request |

**The discriminated union pattern:**

`StandardApiResponse<T>` uses a discriminated union based on the `success` property:

```typescript
// TypeScript can narrow the type based on success
const response: StandardApiResponse<Vehicle> = await getVehicle(vin);

if (response.success) {
  // Here, TypeScript knows response is ApiSuccessResponse<Vehicle>
  console.log(response.data.manufacturer);
} else {
  // Here, TypeScript knows response is ApiErrorResponse
  console.error(response.error.code);
}
```

This pattern eliminates runtime type errors by leveraging TypeScript's type narrowing.

---

### Step 206.4: Example Usage in Services

Here's how the API response interfaces are used (preview for Phase 3):

```typescript
// Preview: API Service usage

import { ApiResponse, isSuccessResponse } from '@app/framework/models';

@Injectable({ providedIn: 'root' })
export class AutomobileApiService {
  constructor(private http: HttpClient) {}

  getVehicles(params: HttpParams): Observable<ApiResponse<Vehicle>> {
    return this.http.get<ApiResponse<Vehicle>>('/api/vehicles', { params });
  }

  // Usage in component
  loadVehicles(): void {
    this.apiService.getVehicles(params).subscribe(response => {
      // Full type safety - TypeScript knows the shape
      this.vehicles = response.results;
      this.total = response.total;
      this.currentPage = response.page;
      this.totalPages = response.totalPages;
    });
  }
}
```