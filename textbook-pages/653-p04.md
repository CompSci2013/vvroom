---

### Step 653.2: Understanding the Color Scheme

Notice the unused `BODY_CLASS_COLORS` property:

```typescript
private readonly BODY_CLASS_COLORS: Record<string, string> = {
  'Sedan': '#3B82F6',
  'SUV': '#10B981',
  'Truck': '#F59E0B',
  'Pickup': '#F59E0B',
  'Coupe': '#EF4444',
  'Wagon': '#8B5CF6',
  'Van': '#EC4899',
  'Minivan': '#06B6D4',
  'Convertible': '#84CC16',
  'Hatchback': '#F97316'
};
```

**Why include unused code?**

This is a deliberate design choice. The color mapping:

1. **Documents intent** — Shows that distinct colors per body class were considered
2. **Enables future enhancement** — Can be activated without research into appropriate colors
3. **Provides consistency** — Truck and Pickup share the same orange (#F59E0B), indicating semantic similarity

Currently, the code uses uniform blue bars for consistency with other charts. The color scheme remains available for future features like:
- Color-coded bars when highlights are not active
- Legend entries matching body class colors
- Tooltips with color indicators

---

### Step 653.3: Comparing Chart Sources

By now, you may notice similarities between chart sources. Let's compare:

| Aspect | Manufacturer | Year | Body Class |
|--------|-------------|------|------------|
| Data property | `byManufacturer` | `byYearRange` | `byBodyClass` |
| Sort order | Count descending | Year ascending | Count descending |
| Limit | Top 20 | All | All |
| X-axis labels | Angled (-45) | Normal | Angled (-45) |
| Bottom margin | 120px | 60px | 100px |
| URL parameter | `manufacturer` | `year`/`yearMin`/`yearMax` | `bodyClass` |

**Patterns to Notice:**

1. **Same structure** — All three follow the same `transform` → `getTitle` → `handleClick` → `toUrlParams` pattern
2. **Same segmentation logic** — The `isSegmented` check is identical
3. **Same trace structure** — Blue for highlighted, gray for other

**Why not abstract further?**

You might be tempted to create a generic chart source factory. Resist this urge initially:

- **Explicit is better than implicit** — Each file is self-contained and understandable
- **Customization is easy** — Modifying one chart doesn't risk breaking others
- **Patterns emerge naturally** — After building several, refactoring opportunities become clear

The fourth chart source (Top Models) will show a more complex case that would break a simple abstraction.