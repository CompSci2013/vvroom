---

## Key Takeaways

1. **AppModule is the configuration hub** — It wires together all parts of the application
2. **Provider order doesn't matter, import order does** — Especially for BrowserModule
3. **Use factories for complex configuration** — The DOMAIN_CONFIG factory pattern is powerful

---

## Acceptance Criteria

- [ ] `AppModule` imports BrowserModule, BrowserAnimationsModule, HttpClientModule, and AppRoutingModule
- [ ] `AppComponent` is declared and bootstrapped
- [ ] `HTTP_INTERCEPTORS` provider registers `HttpErrorInterceptor`
- [ ] `ErrorHandler` provider registers `GlobalErrorHandler`
- [ ] `DOMAIN_CONFIG` provider uses factory function with Injector
- [ ] `main.ts` bootstraps `AppModule`
- [ ] Application builds without errors
- [ ] Application runs and all routes are accessible
- [ ] HTTP errors are caught by the interceptor
- [ ] Domain configuration is available throughout the app

---

## Architecture Note: Provider Scopes

Angular's dependency injection has different scopes:

| Scope | How to Achieve | Lifetime |
|-------|----------------|----------|
| Application (singleton) | `@Injectable({ providedIn: 'root' })` | Entire app lifetime |
| Module | `providers: []` in module | Module lifetime |
| Component | `providers: []` in component | Component lifetime |

In vvroom:
- **Root-level singletons:** `UrlStateService`, `DomainConfigRegistry`, `ErrorNotificationService`
- **Module-provided:** None (all framework services are root)
- **Component-provided:** `ResourceManagementService`, `PopOutManagerService` (new instance per component)

This design ensures:
- Shared services (URL state) are consistent across the app
- Per-page services (resource management) are isolated to their component

---

## Module Relationship Diagram

```
AppModule (root)
    │
    ├── BrowserModule
    ├── BrowserAnimationsModule
    ├── HttpClientModule
    ├── AppRoutingModule ─────────────────┐
    │                                      │
    │   Lazy-loaded via routes:           │
    │   ┌────────────────────────────────┘
    │   │
    │   ├── HomeModule
    │   │   └── HomeComponent
    │   │
    │   ├── AutomobileModule
    │   │   ├── AutomobileComponent
    │   │   ├── AutomobileDiscoverComponent
    │   │   └── Framework Component Modules
    │   │
    │   └── PopoutModule
    │       └── PopoutComponent
    │
    └── Providers:
        ├── HTTP_INTERCEPTORS → HttpErrorInterceptor
        ├── ErrorHandler → GlobalErrorHandler
        └── DOMAIN_CONFIG → createAutomobileDomainConfig()
```