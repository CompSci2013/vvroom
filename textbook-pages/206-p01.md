# 206: API Response Interface

**Status:** Planning
**Depends On:** 201-domain-config-interface
**Blocks:** 302-api-service

---

## Learning Objectives

After completing this section, you will:
- Understand why standardized API response formats simplify frontend development
- Know how TypeScript generics create type-safe response handling
- Recognize the relationship between API responses and pagination

---

## Objective

Create the `ApiResponse` interface that defines the standard format for paginated API responses. This interface ensures consistency between backend responses and frontend expectations, enabling type-safe data handling throughout the application.

---

## Why

APIs return data in various formats. Without a standard, every component must handle response parsing differently:

```typescript
// Anti-pattern: Ad-hoc response handling
this.http.get('/vehicles').subscribe(response => {
  // Is it response.data? response.results? response.items?
  // Is total in response.total? response.meta.total? response.pagination.count?
  this.vehicles = response.data; // Hope this is right...
  this.total = response.meta?.total ?? response.total ?? 0; // Defensive coding
});
```

With a standardized `ApiResponse` interface:

```typescript
// Better: Type-safe response handling
this.http.get<ApiResponse<Vehicle>>('/vehicles').subscribe(response => {
  this.vehicles = response.results; // TypeScript knows this exists
  this.total = response.total;      // TypeScript knows this exists
});
```

### API Contract Alignment

The `ApiResponse` interface aligns with the API contract defined in document 051 (API Contract Overview). The API server returns responses in this exact format:

```json
{
  "results": [...],
  "total": 1234,
  "page": 1,
  "size": 20,
  "totalPages": 62,
  "statistics": { ... }
}
```

By defining this interface, the frontend and backend agree on the response shape. TypeScript enforces this agreement at compile time.

---

## What

### Step 206.1: Create the API Response Interface

Create the file `src/app/framework/models/api-response.interface.ts`: