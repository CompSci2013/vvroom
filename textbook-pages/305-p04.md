---

### Step 305.2: Update the Barrel File

Update `src/app/framework/services/index.ts`:

```typescript
// src/app/framework/services/index.ts
// VERSION 5 (Section 305) - Added DomainConfigValidator

export * from './url-state.service';
export * from './api.service';
export * from './request-coordinator.service';
export * from './domain-config-registry.service';
export * from './domain-config-validator.service';
```

---

## Verification

### 1. Check File Exists

```bash
$ ls -la src/app/framework/services/domain-config-validator.service.ts
```

### 2. TypeScript Compilation Check

```bash
$ npx tsc --noEmit src/app/framework/services/domain-config-validator.service.ts
```

Expected: No output (no compilation errors).

### 3. Build the Application

```bash
$ ng build
```

Expected: Build succeeds with no errors.

### 4. Verify Validation (Optional)

Add temporary test code:

```typescript
// In any component
constructor(private validator: DomainConfigValidator) {
  // Test invalid config
  const badConfig = {
    domainName: '', // Empty - invalid
    domainLabel: 'Test',
    apiBaseUrl: 'not-a-url', // Invalid URL
    filterModel: null, // Missing
    dataModel: class {},
    apiAdapter: {}, // Missing fetchData
    urlMapper: { toUrlParams: () => ({}) }, // Missing fromUrlParams
    cacheKeyBuilder: { buildKey: () => '' },
    tableConfig: { tableId: 'test', dataKey: 'id', columns: [] }, // Empty columns
    features: { highlights: 'yes' } // Wrong type
  } as any;

  const result = this.validator.validate(badConfig);
  console.log('Valid:', result.valid);
  console.log('Summary:\n', this.validator.getValidationSummary(result));
}
```

Console should show multiple validation errors.

---

## Common Problems

| Symptom | Cause | Solution |
|---------|-------|----------|
| `Cannot find module '../models/domain-config.interface'` | Interface file missing | Complete Section 201 first |
| `ConfigErrorType is not defined` | Enum not exported from interface | Check domain-config.interface.ts exports |
| No errors shown for bad config | Validation too lenient | Check validateRequiredField is called |
| validateAndSanitize doesn't throw | result.valid is true | Check all validation rules are running |