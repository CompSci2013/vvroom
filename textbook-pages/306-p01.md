# 306: Resource Management Service

**Status:** Complete
**Depends On:** 301-url-state-service, 302-api-service, 303-request-coordinator, 304-domain-config-registry, 305-domain-config-validator
**Blocks:** Phase 3B (307-311), Phase 8 (Framework Components), Phase 9 (Feature Components)

---

## Learning Objectives

After completing this section, you will:
- Understand the role of a state orchestrator in URL-First architecture
- Know how BehaviorSubject enables reactive state management
- Recognize the pattern of converting URL changes to data fetches
- Be able to implement a generic, domain-agnostic resource management service

---

## Objective

Create the `ResourceManagementService` that orchestrates application state with the URL as the single source of truth. This service coordinates filter changes, API calls, state updates, and cross-window synchronization.

---

## Why

We've built the foundation:
- **UrlStateService** — Reads/writes URL parameters
- **ApiService** — Makes HTTP requests
- **RequestCoordinator** — Caches, deduplicates, retries
- **DomainConfigRegistry** — Provides domain configuration

Now we need a service that ties them together. When a user changes a filter:

```
User clicks filter → URL updates → Data fetches → UI updates
```

`ResourceManagementService` is the orchestrator that makes this flow work.

### The State Flow

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              URL (Source of Truth)                           │
│                           ?manufacturer=Ford&page=1                          │
└─────────────────────────────────────────────────────────────────────────────┘
                                       │
                                       ▼ watchParams()
┌─────────────────────────────────────────────────────────────────────────────┐
│                         ResourceManagementService                            │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐    │
│  │   filters$   │  │   results$   │  │   loading$   │  │    error$    │    │
│  │ {mfr: Ford}  │  │ [...data]    │  │    false     │  │    null      │    │
│  └──────────────┘  └──────────────┘  └──────────────┘  └──────────────┘    │
└─────────────────────────────────────────────────────────────────────────────┘
                                       │
                                       ▼ subscribe()
┌─────────────────────────────────────────────────────────────────────────────┐
│                              UI Components                                   │
│               Render tables, charts, loading indicators                      │
└─────────────────────────────────────────────────────────────────────────────┘
```