**Key design decisions:**

| Decision | Rationale |
|----------|-----------|
| `IS_POPOUT_TOKEN` provided as `true` | Child components can check if they're in a pop-out |
| `ResourceManagementService` provided here | Creates isolated instance that receives state from main |
| Domain extracted from `gridId` | Enables domain-agnostic pop-out support |
| `OnPush` change detection | Requires explicit `detectChanges()` after state sync |

---

### Step 904.3: Create the Popout Component Template

Create `src/app/features/popout/popout.component.html`:

```html
<!-- src/app/features/popout/popout.component.html -->
<!-- VERSION 1 (Section 904) - Minimal pop-out layout -->

<div class="popout-container">
  <router-outlet></router-outlet>
</div>
```

The template is intentionally minimal. The `router-outlet` renders whatever child component is specified by the route (chart, table, picker, etc.).

---

### Step 904.4: Create the Popout Component Styles

Create `src/app/features/popout/popout.component.scss`:

```scss
// src/app/features/popout/popout.component.scss
// VERSION 1 (Section 904) - Pop-out window styles

// Full-height container
.popout-container {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  padding: 1rem;
  background: #f5f5f5;
}

// Global styles applied via class on html/body
:host-context(.popout-html) {
  // Remove default margins
  margin: 0;
  padding: 0;
}

:host-context(.popout-body) {
  margin: 0;
  padding: 0;
  overflow: auto;
}

// Ensure child components take full space
::ng-deep {
  .popout-container > * {
    flex: 1;
    display: flex;
    flex-direction: column;
  }

  // Charts should fill available space
  app-base-chart {
    flex: 1;
    min-height: 400px;
  }

  // Tables should scroll internally
  app-dynamic-results-table,
  app-basic-results-table {
    flex: 1;
    overflow: auto;
  }

  // Query control takes its natural height
  app-query-control {
    flex: none;
  }
}
```

---

### Step 904.5: Create the Popout Routes

Create `src/app/features/popout/popout.routes.ts`: