---

## What

### Step 802.1: Create the Picker State Interface

Create the file `src/app/framework/components/base-picker/picker-state.interface.ts`:

```typescript
// src/app/framework/components/base-picker/picker-state.interface.ts
// VERSION 1 (Section 802) - Picker component state

/**
 * Internal state for BasePickerComponent
 *
 * Tracks loaded data, pagination, selection, and loading/error states.
 */
export interface PickerState<T> {
  /**
   * Currently loaded data rows (current page only)
   */
  data: T[];

  /**
   * Total count of records (for pagination)
   */
  totalCount: number;

  /**
   * Current page index (0-based)
   */
  currentPage: number;

  /**
   * Number of rows per page
   */
  pageSize: number;

  /**
   * Current sort field (if any)
   */
  sortField?: string;

  /**
   * Sort order: 1 = ascending, -1 = descending
   */
  sortOrder: number;

  /**
   * Current search/filter term
   */
  searchTerm: string;

  /**
   * Loading state flag
   */
  loading: boolean;

  /**
   * Error object (if any)
   */
  error: Error | null;

  /**
   * Whether initial data has been loaded
   */
  dataLoaded: boolean;

  /**
   * Set of selected row keys (for O(1) lookup)
   */
  selectedKeys: Set<string>;

  /**
   * Array of selected row objects
   */
  selectedItems: T[];

  /**
   * Keys pending hydration from URL (before data loads)
   */
  pendingHydration: string[];
}

/**
 * Get default picker state
 */
export function getDefaultPickerState<T>(pageSize = 20): PickerState<T> {
  return {
    data: [],
    totalCount: 0,
    currentPage: 0,
    pageSize,
    sortField: undefined,
    sortOrder: 1,
    searchTerm: '',
    loading: false,
    error: null,
    dataLoaded: false,
    selectedKeys: new Set<string>(),
    selectedItems: [],
    pendingHydration: []
  };
}
```

### Step 802.2: Create the Base Picker Component TypeScript

Create the file `src/app/framework/components/base-picker/base-picker.component.ts`: