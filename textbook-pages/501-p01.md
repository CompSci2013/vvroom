# 501: Domain Adapter Pattern

**Status:** Complete
**Depends On:** 306-resource-management-service, 403-domain-filter-statistics-models
**Blocks:** 502-url-mapper-adapter, 503-api-adapter

---

## Learning Objectives

After completing this section, you will:
- Understand the Adapter pattern and why it enables domain-agnostic framework code
- Know the three adapter interfaces: IFilterUrlMapper, IApiAdapter, ICacheKeyBuilder
- Recognize how adapters bridge domain-specific logic to framework services
- Be able to design domain adapters for new business domains

---

## Objective

Establish the adapter pattern that allows the framework's `ResourceManagementService` to work with any business domain. Define the interfaces that domain-specific adapters must implement.

---

## Why

The `ResourceManagementService` (Section 306) provides:
- URL-First state management
- Automatic data fetching on filter changes
- Response caching and deduplication
- Loading/error state management

But this service doesn't know about vehicles, manufacturers, or body classes. It doesn't know how to:
- Convert filters to URL parameters
- Make API calls for vehicle data
- Build cache keys for specific queries

### The Adapter Pattern

Adapters bridge the gap between generic framework code and domain-specific logic:

```
┌─────────────────────────────────────────────────────────────┐
│                    ResourceManagementService                 │
│  (Generic: works with any TFilters, TData, TStatistics)     │
└──────────────────────────────────────────────────────────────┘
                              │
                              │ uses interfaces
                              ▼
┌──────────────────────────────────────────────────────────────┐
│  IFilterUrlMapper    IApiAdapter      ICacheKeyBuilder       │
│  (interface)         (interface)      (interface)            │
└──────────────────────────────────────────────────────────────┘
                              │
                              │ implemented by
                              ▼
┌──────────────────────────────────────────────────────────────┐
│  AutomobileUrlMapper  AutomobileApiAdapter  AutomobileCacheKeyBuilder │
│  (concrete)           (concrete)            (concrete)                │
└──────────────────────────────────────────────────────────────┘
```

The framework depends on **interfaces** (abstractions), not concrete implementations. Domain modules provide concrete implementations.