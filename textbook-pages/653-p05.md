---

### Step 653.4: Understanding Bottom Margin Differences

Notice the different bottom margins:

```typescript
// Manufacturer chart
margin: { l: 60, r: 40, t: 40, b: 120 }

// Year chart
margin: { l: 60, r: 40, t: 40, b: 60 }

// Body class chart
margin: { l: 60, r: 40, t: 40, b: 100 }
```

**Why the differences?**

- **Manufacturer (120px)** — Long names like "Mercedes-Benz" need more space when angled
- **Year (60px)** — 4-digit years are short; no angling needed
- **Body Class (100px)** — Medium-length names like "Convertible" need moderate space

These seemingly minor details significantly affect chart readability. When labels overlap or get cut off, users lose information.

---

## Verification

### 1. TypeScript Compilation

```bash
$ cd ~/projects/vvroom
$ ng build
```

Expected: Build succeeds with no errors.

### 2. File Location

```bash
$ ls -la src/app/domain-config/automobile/chart-sources/
```

Expected:

```
-rw-r--r-- 1 user user  4567 Feb  9 17:00 manufacturer-chart-source.ts
-rw-r--r-- 1 user user  4123 Feb  9 17:05 year-chart-source.ts
-rw-r--r-- 1 user user  4234 Feb  9 17:10 body-class-chart-source.ts
```

### 3. Color Scheme Verification

Verify the color scheme covers expected body classes:

```bash
$ grep -c "'" src/app/domain-config/automobile/chart-sources/body-class-chart-source.ts
```

Expected: Multiple single quotes indicating the color mapping entries.

---

## Common Problems

| Symptom | Cause | Solution |
|---------|-------|----------|
| Labels cut off at bottom | Margin too small | Increase `b` (bottom) margin value |
| "Pickup" and "Truck" have same color | Intentional design | These are semantically similar categories |
| Color scheme not applied | Code uses uniform blue | The color scheme is for future use; current implementation uses blue |
| Multi-selection returns duplicates | Missing `Set` deduplication | Ensure `[...new Set(bodyClasses)]` is present |
| `Cannot find module '../models/automobile.statistics'` | VehicleStatistics not created | Complete document 403 first |