---

### Category 6: Cross-Window Synchronization

Test bidirectional communication between main window and pop-outs.

| Test ID | Test Description | Expected Behavior | Pass/Fail |
|---------|-----------------|-------------------|-----------|
| S6.1 | Main window filter change updates all pop-outs | All pop-outs receive BroadcastChannel message and update | |
| S6.2 | Pop-out filter change updates main window URL | Main window URL reflects pop-out's requested change | |
| S6.3 | Main window data refresh updates pop-outs | New API data propagated to all pop-outs | |
| S6.4 | Close pop-out does not affect main window state | Main window continues functioning normally | |
| S6.5 | Open multiple pop-outs of same type | Each pop-out shows consistent state | |
| S6.6 | Open pop-outs of different types | Each receives relevant state updates | |

---

### Category 7: Router Navigate Encapsulation

Verify that `router.navigate()` is only called from `UrlStateService`.

| Test ID | Test Description | Expected Behavior | Pass/Fail |
|---------|-----------------|-------------------|-----------|
| R7.1 | Grep codebase for `router.navigate` | Only appears in `url-state.service.ts` | |
| R7.2 | Components call `updateFilters()` method | Components never call `router.navigate()` directly | |
| R7.3 | Pop-out components call parent messaging | No `router.navigate()` in pop-out components | |

---

## Anti-Pattern Checklist

These patterns indicate URL-First violations and should fail testing:

| Anti-Pattern | How to Detect | Severity |
|--------------|---------------|----------|
| Direct state mutation bypassing URL | State changes without URL param update | Critical |
| `router.navigate()` in components | Grep for `router.navigate` outside UrlStateService | Critical |
| Pop-out making API calls | Network tab shows fetch from pop-out window | Critical |
| Pop-out updating its own URL | Pop-out URL changes after initial load | Critical |
| State not in URL that should be shareable | Filter applied but not in URL; refresh loses state | High |
| Highlight state without `h_` prefix | Highlight params using wrong naming convention | Medium |