---

## Common Problems

| Symptom | Cause | Solution |
|---------|-------|----------|
| "Cannot read property 'get'" | ApiService not passed | Pass ApiService to constructor |
| Results not transformed | Missing `fromApiResponse()` | Call model's static factory |
| Cache key collision | Missing filter in key | Add filter to `buildKey()` |
| Highlights not in cache key | Highlights not added | Include h_* params in key |

---

## Key Takeaways

1. **Adapters are plain classes, not services** — Enables manual construction with config
2. **Response transformation uses domain models** — `VehicleResult.fromApiResponse()`
3. **Cache keys must be deterministic** — Same filters always produce same key
4. **Highlights affect cache keys** — Different highlights = different cached response

---

## Acceptance Criteria

- [ ] `src/app/domains/automobile/adapters/automobile-api.adapter.ts` exists
- [ ] Implements `IApiAdapter<AutoSearchFilters, VehicleResult, VehicleStatistics>`
- [ ] `fetchData()` makes API call and transforms response
- [ ] Response transformation uses `VehicleResult.fromApiResponse()`
- [ ] Statistics transformation uses `VehicleStatistics.fromApiResponse()`
- [ ] `src/app/domains/automobile/adapters/automobile-cache-key.builder.ts` exists
- [ ] Implements `ICacheKeyBuilder<AutoSearchFilters>`
- [ ] `buildKey()` produces deterministic keys
- [ ] Cache key includes highlight parameters
- [ ] Barrel file exports all adapters
- [ ] TypeScript compilation succeeds
- [ ] JSDoc comments on all public methods

---

## Phase 5 Complete

Congratulations! You have completed Phase 5: Domain Adapters.

**What you built:**
- Adapter pattern understanding and interfaces
- `AutomobileUrlMapper` for URL ↔ filter conversion
- `AutomobileApiAdapter` for API data fetching
- `AutomobileCacheKeyBuilder` for request deduplication

**The Aha Moment:**
"Adapters are the bridge between generic framework code and domain-specific logic. They enable reusability without sacrificing type safety."

---

## Next Step

Proceed to `801-base-table-component.md` to begin Phase 8: Framework Components.