### Chart Not Updating

Ensure you're calling react, not newPlot:
```typescript
// newPlot creates a new chart (slower)
// react updates existing chart (faster)
if (this.plotlyElement) {
  Plotly.react(this.plotlyElement, traces, layout);
} else {
  Plotly.newPlot(element, traces, layout);
}
```

---

## Pop-out Window Debugging

### Messages Not Received

1. **Check message posting:**
```typescript
// In parent window
console.log('[Parent] Sending message:', message);
popoutWindow.postMessage(message, '*');
```

2. **Check message receiving:**
```typescript
// In pop-out window
window.addEventListener('message', event => {
  console.log('[Popout] Received message:', event.data);
  console.log('[Popout] Origin:', event.origin);
});
```

3. **Check window reference:**
```typescript
console.log('[Parent] Popout window:', popoutWindow);
console.log('[Parent] Window closed?:', popoutWindow.closed);
```

### Pop-out Styling Issues

The pop-out window may not load all styles:
1. Check that global styles are linked in pop-out index.html
2. Verify component styles are loaded (not lazy-loaded)
3. Use browser DevTools in the pop-out window itself

---

## Performance Debugging

### Change Detection Issues

```typescript
// Log change detection runs
constructor(private zone: NgZone) {
  zone.onStable.subscribe(() => {
    console.log('[Zone] Change detection complete');
  });
}
```

### Identifying Slow Operations

```typescript
console.time('expensiveOperation');
// ... operation
console.timeEnd('expensiveOperation');
// Output: expensiveOperation: 234.56ms
```

### Memory Leaks

1. Open DevTools â†’ Memory panel
2. Take heap snapshot before and after suspected leak
3. Compare snapshots to find retained objects

---

## Debugging Checklist

When something doesn't work:

1. **Check the console** for errors
2. **Check the network** for failed requests
3. **Add console.log** at key points
4. **Verify data** with `| json` pipe
5. **Check subscriptions** are active
6. **Verify imports** in modules
7. **Check the URL** for state issues
8. **Use breakpoints** for complex logic