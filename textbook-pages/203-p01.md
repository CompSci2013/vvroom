# 203: Filter Definition Interface

**Status:** Planning
**Depends On:** 201-domain-config-interface
**Blocks:** 601-filter-definitions, 806-query-panel-component

---

## Learning Objectives

After completing this section, you will:
- Understand how configuration objects define UI behavior without custom components
- Know how to use TypeScript generics to create type-safe filter definitions
- Recognize the relationship between filter definitions and URL state synchronization

---

## Objective

Create the `FilterDefinition` interface that defines how filters appear in the Query Control component. This interface specifies filter types, labels, URL parameter mappings, and range configurations — everything the framework needs to render appropriate filter UI.

---

## Why

The vvroom application has a powerful Query Control component that lets users filter data. But instead of hard-coding filter types for automobiles, we use **configuration-driven UI**.

Consider these automobile filters:
- **Manufacturer**: Multi-select dropdown (Toyota, Ford, Honda...)
- **Year Range**: Two number inputs (min/max)
- **Body Class**: Multi-select dropdown (Sedan, SUV, Truck...)
- **Model Search**: Text input with autocomplete

Each filter type requires different UI rendering. The `FilterDefinition` interface describes each filter's characteristics, and the Query Control component reads this configuration to render the appropriate UI.

**This is declarative programming:**

```typescript
// Declarative: describe WHAT you want
const yearFilter: FilterDefinition<AutomobileFilters> = {
  field: 'year',
  label: 'Model Year',
  type: 'range',
  urlParams: { min: 'yearMin', max: 'yearMax' },
  rangeConfig: {
    valueType: 'integer',
    minLabel: 'Start Year',
    maxLabel: 'End Year',
    defaultRange: { min: 1900, max: 2025 }
  }
};

// The framework figures out HOW to render it
```

Compare to imperative code where you'd write custom component logic for each filter type.

### URL-First Integration

Each `FilterDefinition` includes `urlParams` — the URL query parameter name(s) for this filter. This directly supports the URL-First architecture:

| Filter Type | urlParams Value | URL Example |
|-------------|-----------------|-------------|
| Multiselect | `'manufacturer'` | `?manufacturer=Ford,Toyota` |
| Range | `{ min: 'yearMin', max: 'yearMax' }` | `?yearMin=2020&yearMax=2024` |
| Text | `'model'` | `?model=Camry` |