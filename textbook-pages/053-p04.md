---

## Methods (Framework)

These method names are **framework conventions**:

| Method | Signature | Description |
|--------|-----------|-------------|
| `updateFilters()` | `(partial: Partial<TFilters>) => void` | Update filters via URL |
| `clearFilters()` | `() => void` | Reset to defaults |
| `refresh()` | `() => void` | Re-fetch with current filters |
| `getCurrentState()` | `() => ResourceState` | Get state snapshot |
| `getCurrentFilters()` | `() => TFilters` | Get filters snapshot |

---

## Injection Tokens (Framework)

| Token | Type | Description |
|-------|------|-------------|
| `DOMAIN_CONFIG` | `InjectionToken<DomainConfig>` | Provides domain configuration |
| `IS_POPOUT_TOKEN` | `InjectionToken<boolean>` | Indicates pop-out context |

---

## What Changes When Adding a New Domain?

To add agriculture support to vroom, you would create:

```
src/domain-config/agriculture/
├── adapters/
│   ├── agriculture-url-mapper.ts      # Implements IFilterUrlMapper
│   ├── agriculture-api.adapter.ts     # Implements IApiAdapter
│   └── agriculture-cache-key-builder.ts
├── chart-sources/
│   ├── region-chart-source.ts
│   └── crop-chart-source.ts
├── configs/
│   ├── agriculture.filter-definitions.ts
│   ├── agriculture.table-config.ts
│   └── agriculture.chart-configs.ts
├── models/
│   ├── agriculture.filters.ts
│   ├── agriculture.data.ts
│   └── agriculture.statistics.ts
├── agriculture.domain-config.ts
└── index.ts

src/app/features/agriculture/
├── agriculture.component.ts
└── agriculture-discover/
    └── agriculture-discover.component.ts
```

And update:
- `src/domain-config/domain-providers.ts` (register the new domain)
- `src/app/app.routes.ts` (add agriculture routes)

**No changes to framework code.**

---

## Naming Patterns

### Domain Config Files

Pattern: `{domain}.{type}.ts`

Examples:
- `automobile.filter-definitions.ts`
- `automobile.table-config.ts`
- `agriculture.filter-definitions.ts`

### Adapter Classes

Pattern: `{Domain}{Type}` (PascalCase)

Examples:
- `AutomobileApiAdapter`
- `AutomobileUrlMapper`
- `AgricultureApiAdapter`