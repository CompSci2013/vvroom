---

### Step 313.2: Update the Services Barrel File

Update `src/app/framework/services/index.ts`:

```typescript
// src/app/framework/services/index.ts
// VERSION 12 (Section 313) - Added HttpErrorInterceptor

export * from './url-state.service';
export * from './api.service';
export * from './request-coordinator.service';
export * from './domain-config-registry.service';
export * from './domain-config-validator.service';
export * from './popout-context.service';
export * from './popout-manager.service';
export * from './user-preferences.service';
export * from './filter-options.service';
export * from './picker-config-registry.service';
export * from './resource-management.service';
export * from './error-notification.service';
export * from './http-error.interceptor';
```

---

### Step 313.3: Register the Interceptor

Update `src/app/app.module.ts` to register the interceptor:

```typescript
// src/app/app.module.ts (partial - add to existing)
import { HTTP_INTERCEPTORS } from '@angular/common/http';
import { HttpErrorInterceptor } from './framework/services';

@NgModule({
  // ...
  providers: [
    {
      provide: HTTP_INTERCEPTORS,
      useClass: HttpErrorInterceptor,
      multi: true
    }
  ],
  // ...
})
export class AppModule { }
```

---

## Verification

### 1. Check File Exists

```bash
$ ls -la src/app/framework/services/http-error.interceptor.ts
```

### 2. TypeScript Compilation Check

```bash
$ npx tsc --noEmit src/app/framework/services/http-error.interceptor.ts
```

### 3. Build the Application

```bash
$ ng build
```

### 4. Test Error Handling

Create a test that triggers an HTTP error:

```typescript
// In any component
constructor(private api: ApiService) {
  // Request a non-existent endpoint
  this.api.get('/api/non-existent-endpoint').subscribe({
    next: (data) => console.log('Data:', data),
    error: (error) => {
      console.log('Caught error:', error);
      // Error should be formatted as:
      // { code: 'NOT_FOUND', message: 'Resource not found.', status: 404, ... }
    }
  });
}
```