---

### Step 603.4: Understanding Server-Side Pagination

The picker uses server-side pagination:

```typescript
api: {
  fetchData: (params) => {
    return apiService.get(endpoint, {
      params: {
        page: params.page + 1,  // Convert 0-indexed to 1-indexed
        size: params.size,       // e.g., 20
        search: params.search,   // User's search term
        sortBy: params.sortField,
        sortOrder: params.sortOrder === -1 ? 'desc' : 'asc'
      }
    });
  }
}
```

When user searches "Toyota":
1. Picker sends: `GET /manufacturer-model-combinations?page=1&size=20&search=Toyota`
2. API returns: `{ data: [/* 20 Toyota results */], total: 47, page: 1, size: 20, totalPages: 3 }`
3. Picker displays 20 results with pagination: "Showing 1-20 of 47"

---

### Step 603.5: Understanding Factory Pattern

The picker uses a factory function pattern:

```typescript
export function createManufacturerModelPickerConfig(
  apiService: ApiService,
  configId: string = 'manufacturer-model-picker'
): PickerConfig<ManufacturerModelRow> {
  return { /* config */ };
}
```

**Why a factory function instead of a constant?**

The picker needs the `ApiService` to make API calls. Angular's dependency injection provides the service at runtime, but configuration constants are created at module load time (before injection is available).

The factory pattern solves this:

```typescript
// In domain config factory
export function createAutomobileDomainConfig(injector: Injector) {
  const apiService = injector.get(ApiService);

  return {
    // ...
    pickers: createAutomobilePickerConfigs(injector)
  };
}
```

---

## Verification

### 1. Verify File Created

```bash
$ ls -la src/app/domain-config/automobile/configs/automobile.picker-configs.ts
```

Expected: File exists.

### 2. Verify TypeScript Compilation

```bash
$ cd ~/projects/vvroom
$ npx tsc --noEmit src/app/domain-config/automobile/configs/automobile.picker-configs.ts
```

Expected: No compilation errors.

### 3. Verify Interface Export

```bash
$ grep "^export interface" src/app/domain-config/automobile/configs/automobile.picker-configs.ts
```

Expected: `export interface ManufacturerModelRow {`