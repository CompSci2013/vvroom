| Feature | Purpose |
|---------|---------|
| `*ngIf="!isPopOut"` | Hides header in pop-out windows |
| `routerLinkActive="active"` | Highlights current route in navigation |
| `[class.popout-content]` | Removes padding for pop-out content |
| Route change detection | Updates `isPopOut` on navigation |

---

### Step 905.5: Router Configuration Options

The `RouterModule.forRoot()` options we used:

```typescript
RouterModule.forRoot(routes, {
  anchorScrolling: 'enabled',
  scrollPositionRestoration: 'enabled',
  paramsInheritanceStrategy: 'always'
})
```

| Option | Purpose |
|--------|---------|
| `anchorScrolling` | Enables scrolling to `#fragment` anchors |
| `scrollPositionRestoration` | Scrolls to top when navigating between routes |
| `paramsInheritanceStrategy: 'always'` | Query params available in all child routes |

The `paramsInheritanceStrategy` is particularly important for URL-First architecture â€” it ensures query parameters are accessible throughout the component tree.

---

## Verification

### 1. Build the Application

```bash
$ ng build
```

Expected: Build succeeds with no errors.

### 2. Serve and Navigate

```bash
$ ng serve --open
```

Test these navigation paths:

| Action | Expected Result |
|--------|-----------------|
| Open `http://localhost:4200` | Redirects to `/home` |
| Click "Automobiles" in header | Navigates to `/automobiles` |
| Click "Advanced Search" card | Navigates to `/automobiles/discover` |
| Click "Home" in header | Returns to `/home` |
| Enter unknown URL like `/foo` | Redirects to `/home` |

### 3. Verify Lazy Loading

Open browser DevTools (Network tab) and observe:

1. Initial load: Only main bundle and home module
2. Navigate to `/automobiles`: Automobile module loads
3. Navigate to `/automobiles/discover`: No additional load (same module)

### 4. Check Router Link Active

The navigation link for the current route should have the `active` class applied, showing a slightly different background color.

### 5. Verify Query Param Persistence

1. Navigate to `/automobiles/discover?manufacturer=Toyota`
2. Note the query parameter in URL
3. Refresh the page
4. Query parameter should persist