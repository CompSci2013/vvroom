---

### Step 312.4: Update the Services Barrel File

Update `src/app/framework/services/index.ts`:

```typescript
// src/app/framework/services/index.ts
// VERSION 11 (Section 312) - Added ErrorNotificationService

export * from './url-state.service';
export * from './api.service';
export * from './request-coordinator.service';
export * from './domain-config-registry.service';
export * from './domain-config-validator.service';
export * from './popout-context.service';
export * from './popout-manager.service';
export * from './user-preferences.service';
export * from './filter-options.service';
export * from './picker-config-registry.service';
export * from './resource-management.service';
export * from './error-notification.service';
```

---

## Verification

### 1. Check Files Exist

```bash
$ ls -la src/app/framework/models/error-notification.interface.ts
$ ls -la src/app/framework/services/error-notification.service.ts
```

### 2. TypeScript Compilation Check

```bash
$ npx tsc --noEmit src/app/framework/services/error-notification.service.ts
```

### 3. Verify PrimeNG MessageService Provider

Ensure `MessageService` is provided in your `app.module.ts`:

```typescript
import { MessageService } from 'primeng/api';

@NgModule({
  providers: [MessageService],
  // ...
})
export class AppModule { }
```

### 4. Add Toast Component to Template

Add the PrimeNG Toast component to `app.component.html`:

```html
<p-toast key="app-toast"></p-toast>
<router-outlet></router-outlet>
```

### 5. Test Deduplication

```typescript
// In any component
constructor(private errorNotification: ErrorNotificationService) {
  // First error - shows toast
  this.errorNotification.showError('Test', 'This is a test error');

  // Same error within 3 seconds - suppressed
  setTimeout(() => {
    this.errorNotification.showError('Test', 'This is a test error');
    console.log('Second error call (should be suppressed)');
  }, 1000);

  // Same error after 4 seconds - shows toast
  setTimeout(() => {
    this.errorNotification.showError('Test', 'This is a test error');
    console.log('Third error call (should show)');
  }, 4000);
}
```