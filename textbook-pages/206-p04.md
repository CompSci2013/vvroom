---

## Verification

### 1. Check File Exists

```bash
$ ls -la src/app/framework/models/api-response.interface.ts
```

Expected output shows the file exists.

### 2. TypeScript Compilation Check

```bash
$ cd ~/projects/vvroom
$ npx tsc --noEmit src/app/framework/models/api-response.interface.ts
```

Expected: No output (no compilation errors).

### 3. Verify Exports

```bash
$ grep "^export" src/app/framework/models/api-response.interface.ts
```

Expected output:

```
export interface ApiResponse<TData> {
export interface ApiErrorResponse {
export interface ApiSuccessResponse<TData> {
export type StandardApiResponse<TData> = ApiSuccessResponse<TData> | ApiErrorResponse;
export function isSuccessResponse<T>(
export function isErrorResponse<T>(
export const EMPTY_API_RESPONSE: ApiResponse<never> = {
export function createEmptyResponse<T>(size: number = 20): ApiResponse<T> {
export function calculateTotalPages(total: number, size: number): number {
export function hasNextPage(page: number, totalPages: number): boolean {
export function hasPreviousPage(page: number): boolean {
```

### 4. Verify Barrel Export

```bash
$ grep "api-response" src/app/framework/models/index.ts
```

Expected output:

```
export * from './api-response.interface';
```

---

## Common Problems

| Symptom | Cause | Solution |
|---------|-------|----------|
| `Property 'results' does not exist` | Response not typed | Add generic: `http.get<ApiResponse<T>>(...)` |
| Type guard not narrowing | Using wrong comparison | Use `response.success === true` (strict) |
| `statistics` showing error | Using without check | Add optional chaining: `response.statistics?.field` |
| Page calculation wrong | Off-by-one error | Remember: API pages are 1-indexed |
| Empty response type error | Using wrong generic | Use `createEmptyResponse<YourType>()` |

---

## Key Takeaways

1. **Standardized response formats simplify development** — One interface, consistent handling everywhere
2. **Type guards enable safe type narrowing** — `isSuccessResponse()` and `isErrorResponse()` for discriminated unions
3. **Utility functions reduce boilerplate** — `calculateTotalPages()`, `hasNextPage()`, etc.