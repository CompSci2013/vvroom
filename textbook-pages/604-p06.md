### 3. Verify Filter Count

```bash
$ grep -c "field:" src/app/domain-config/automobile/configs/automobile.query-control-filters.ts
```

Expected: `5` (manufacturer, model, bodyClass, yearMin, modelCombos)

### 4. Verify Exports

```bash
$ grep "^export const" src/app/domain-config/automobile/configs/automobile.query-control-filters.ts
```

Expected: `export const AUTOMOBILE_QUERY_CONTROL_FILTERS`

---

## Common Problems

| Symptom | Cause | Solution |
|---------|-------|----------|
| "Cannot find module '../models/automobile.filters'" | Filters model not yet created | Ensure Phase 4 (document 401) is complete |
| Options not loading | API endpoint incorrect | Verify optionsEndpoint matches actual API |
| Transformer returns empty array | API response structure changed | Update optionsTransformer to match actual response |
| Chip shows "[object Object]" | Label not set correctly | Ensure optionsTransformer sets label property |
| Year filter shows commas | useGrouping not set to false | Set rangeConfig.useGrouping: false |

---

## Key Takeaways

1. **Query control filters are on-demand** — Users add them via dialog, unlike always-visible filter panel
2. **Options are fetched dynamically** — optionsEndpoint and optionsTransformer handle API integration
3. **URL params can differ from field names** — urlParams provides the URL-side mapping

---

## Acceptance Criteria

- [ ] `src/app/domain-config/automobile/configs/automobile.query-control-filters.ts` exists
- [ ] `AUTOMOBILE_QUERY_CONTROL_FILTERS` array contains 5 filter definitions
- [ ] Manufacturer, Model, Body Class filters are type 'multiselect'
- [ ] Year filter is type 'range' with rangeConfig
- [ ] Model Combinations filter handles nested API response structure
- [ ] Each filter has optionsEndpoint and optionsTransformer
- [ ] Each filter has urlParams for URL serialization
- [ ] File compiles without TypeScript errors

---

## Next Step

Proceed to `605-highlight-filters.md` to define highlight filter definitions for chart segmentation.