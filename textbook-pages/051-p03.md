```
┌─────────────────────────────────────────────────────────────────────┐
│                         Frontend Request                             │
│  GET /vehicles/details?manufacturer=Toyota&page=1&size=20           │
└──────────────────────────────────┬──────────────────────────────────┘
                                   │
                                   ▼
┌─────────────────────────────────────────────────────────────────────┐
│                         Backend Processing                           │
│  1. Parse query parameters                                           │
│  2. Build Elasticsearch query                                        │
│  3. Execute search                                                   │
│  4. Compute statistics aggregations                                  │
│  5. Format response                                                  │
└──────────────────────────────────┬──────────────────────────────────┘
                                   │
                                   ▼
┌─────────────────────────────────────────────────────────────────────┐
│                         API Response                                 │
│  {                                                                   │
│    "results": [{ vehicle_id, manufacturer, model, year, ... }],     │
│    "total": 234,                                                     │
│    "page": 1,                                                        │
│    "size": 20,                                                       │
│    "totalPages": 12,                                                 │
│    "statistics": { byManufacturer, byBodyClass, byYearRange, ... }  │
│  }                                                                   │
└─────────────────────────────────────────────────────────────────────┘
```

---

## Implementation Files

### 1. API Response Interface (Framework-Level)

This interface is **domain-agnostic** and lives in the framework:

**File:** `src/app/framework/models/api-response.interface.ts`

```typescript
/**
 * Generic API response interface for paginated endpoints
 * @template TData - The type of data items in the results array
 */
export interface ApiResponse<TData> {
  /** Array of result items for the current page */
  results: TData[];

  /** Total number of items across all pages */
  total: number;

  /** Current page number (1-indexed) */
  page: number;

  /** Number of items per page */
  size: number;

  /** Total number of pages */
  totalPages: number;

  /** Optional statistics data (domain-specific) */
  statistics?: any;
}

/**
 * Generic error response from API
 */
export interface ApiErrorResponse {
  /** Success flag (always false for errors) */
  success: false;

  /** Error details */
  error: {
    /** Error code (e.g., 'VALIDATION_ERROR', 'NOT_FOUND') */
    code: string;

    /** Human-readable error message */
    message: string;

    /** Optional additional error details */
    details?: Record<string, any>;
  };
}

/**
 * Generic success response wrapper
 */
export interface ApiSuccessResponse<TData> {
  /** Success flag (always true for successful responses) */
  success: true;

  /** Response data */
  data: TData;
}

/**
 * Standard API response type (success or error)
 */
export type StandardApiResponse<TData> = ApiSuccessResponse<TData> | ApiErrorResponse;
```