```typescript
// src/app/framework/models/pagination.interface.ts
// VERSION 1 (Section 207) - Pagination and sorting interfaces

/**
 * Pagination Interfaces
 *
 * These interfaces define pagination and sorting parameters for API requests
 * and responses. They complement the ApiResponse interface by defining
 * the input/output structures for paginated queries.
 */

/**
 * Pagination parameters for API requests
 *
 * Represents the pagination portion of an API request.
 * These values are derived from URL query parameters.
 *
 * @example
 * ```typescript
 * // From URL: ?page=2&size=50
 * const params: PaginationParams = {
 *   page: 2,
 *   size: 50
 * };
 *
 * // Convert to HTTP params
 * const httpParams = new HttpParams()
 *   .set('page', params.page.toString())
 *   .set('size', params.size.toString());
 * ```
 */
export interface PaginationParams {
  /**
   * Page number (1-indexed)
   * Page 1 is the first page of results
   */
  page: number;

  /**
   * Number of items per page
   * Common values: 10, 20, 50, 100
   */
  size: number;
}

/**
 * Pagination metadata from API responses
 *
 * Contains complete pagination information returned by the API.
 * Use this to display pagination controls and navigation.
 *
 * @example
 * ```typescript
 * // Display pagination info
 * const metadata: PaginationMetadata = response.pagination;
 * console.log(`Page ${metadata.page} of ${metadata.totalPages}`);
 * console.log(`Showing ${metadata.size} of ${metadata.total} results`);
 *
 * if (metadata.hasMore) {
 *   showNextButton();
 * }
 * ```
 */
export interface PaginationMetadata {
  /**
   * Current page number (1-indexed)
   */
  page: number;

  /**
   * Number of items per page
   */
  size: number;

  /**
   * Total number of items across all pages
   */
  total: number;

  /**
   * Total number of pages
   * Computed as: Math.ceil(total / size)
   */
  totalPages: number;

  /**
   * Whether there are more pages after current page
   * Equivalent to: page < totalPages
   */
  hasMore: boolean;
}

/**
 * Sorting parameters for API requests
 *
 * Represents the sorting portion of an API request.
 * These values are derived from URL query parameters.
 *
 * @example
 * ```typescript
 * // From URL: ?sortBy=year&sortOrder=desc
 * const params: SortParams = {
 *   sortBy: 'year',
 *   sortOrder: 'desc'
 * };
 *
 * // Convert to HTTP params (API-specific format)
 * const sortParam = `${params.sortBy}:${params.sortOrder}`;
 * // Results in: sort=year:desc
 * ```
 */
export interface SortParams {
  /**
   * Field to sort by
   * Must match a field name in the data model
   */
  sortBy?: string;

  /**
   * Sort direction
   * - 'asc': Ascending (A-Z, 1-9, oldest first)
   * - 'desc': Descending (Z-A, 9-1, newest first)
   */
  sortOrder?: 'asc' | 'desc';
}

/**
 * Combined pagination and sort parameters
 *
 * Convenience interface for endpoints that support both pagination and sorting.
 *
 * @example
 * ```typescript
 * // Build from URL state
 * const params: PaginatedSortParams = {
 *   page: 1,
 *   size: 20,
 *   sortBy: 'manufacturer',
 *   sortOrder: 'asc'
 * };
 * ```
 */
export interface PaginatedSortParams extends PaginationParams, SortParams {}

/**
 * Default pagination parameters
 */
export const DEFAULT_PAGINATION: PaginationParams = {
  page: 1,
  size: 20
};

/**
 * Default sort parameters (no sorting)
 */
export const DEFAULT_SORT: SortParams = {
  sortBy: undefined,
  sortOrder: undefined
};

/**
 * Common page size options
 */
export const PAGE_SIZE_OPTIONS: number[] = [10, 20, 50, 100];

/**
 * Create pagination metadata from response data
 *
 * Utility function to construct PaginationMetadata from API response.
 *
 * @param page - Current page number
 * @param size - Items per page
 * @param total - Total items
 * @returns Complete PaginationMetadata object
 *
 * @example
 * ```typescript
 * const response = await fetchData();
 * const metadata = createPaginationMetadata(
 *   response.page,
 *   response.size,
 *   response.total
 * );
 * ```
 */
export function createPaginationMetadata(
  page: number,
  size: number,
  total: number
): PaginationMetadata {
  const totalPages = size > 0 ? Math.ceil(total / size) : 0;
  return {
    page,
    size,
    total,
    totalPages,
    hasMore: page < totalPages
  };
}

/**
 * Parse pagination from URL query parameters
 *
 * @param params - URL query parameters
 * @param defaults - Default values to use if not in URL
 * @returns Parsed PaginationParams
 *
 * @example
 * ```typescript
 * const urlParams = new URLSearchParams(location.search);
 * const pagination = parsePaginationFromUrl({
 *   page: urlParams.get('page'),
 *   size: urlParams.get('size')
 * });
 * ```
 */
export function parsePaginationFromUrl(
  params: { page?: string | null; size?: string | null },
  defaults: PaginationParams = DEFAULT_PAGINATION
): PaginationParams {
  return {
    page: params.page ? parseInt(params.page, 10) : defaults.page,
    size: params.size ? parseInt(params.size, 10) : defaults.size
  };
}

/**
 * Parse sort from URL query parameters
 *
 * @param params - URL query parameters
 * @returns Parsed SortParams
 *
 * @example
 * ```typescript
 * const urlParams = new URLSearchParams(location.search);
 * const sort = parseSortFromUrl({
 *   sortBy: urlParams.get('sortBy'),
 *   sortOrder: urlParams.get('sortOrder')
 * });
 * ```
 */
export function parseSortFromUrl(
  params: { sortBy?: string | null; sortOrder?: string | null }
): SortParams {
  const sortOrder = params.sortOrder?.toLowerCase();
  return {
    sortBy: params.sortBy || undefined,
    sortOrder: sortOrder === 'asc' || sortOrder === 'desc' ? sortOrder : undefined
  };
}

/**
 * Convert pagination params to URL query parameters
 *
 * @param pagination - Pagination parameters
 * @returns Object with string values for URL
 *
 * @example
 * ```typescript
 * const urlParams = paginationToUrlParams({ page: 2, size: 50 });
 * // { page: '2', size: '50' }
 * ```
 */
export function paginationToUrlParams(
  pagination: PaginationParams
): { page: string; size: string } {
  return {
    page: pagination.page.toString(),
    size: pagination.size.toString()
  };
}

/**
 * Convert sort params to URL query parameters
 *
 * @param sort - Sort parameters
 * @returns Object with string values for URL (empty object if no sort)
 *
 * @example
 * ```typescript
 * const urlParams = sortToUrlParams({ sortBy: 'year', sortOrder: 'desc' });
 * // { sortBy: 'year', sortOrder: 'desc' }
 *
 * const noSort = sortToUrlParams({});
 * // {}
 * ```
 */
export function sortToUrlParams(
  sort: SortParams
): { sortBy?: string; sortOrder?: string } {
  const result: { sortBy?: string; sortOrder?: string } = {};

  if (sort.sortBy) {
    result.sortBy = sort.sortBy;
  }

  if (sort.sortOrder) {
    result.sortOrder = sort.sortOrder;
  }

  return result;
}

/**
 * Calculate the range of items shown on current page
 *
 * @param page - Current page (1-indexed)
 * @param size - Items per page
 * @param total - Total items
 * @returns Object with start and end indices (1-indexed, inclusive)
 *
 * @example
 * ```typescript
 * const range = getPageRange(2, 20, 45);
 * // { start: 21, end: 40 }
 *
 * const lastPage = getPageRange(3, 20, 45);
 * // { start: 41, end: 45 }
 * ```
 */
export function getPageRange(
  page: number,
  size: number,
  total: number
): { start: number; end: number } {
  if (total === 0) {
    return { start: 0, end: 0 };
  }

  const start = (page - 1) * size + 1;
  const end = Math.min(page * size, total);

  return { start, end };
}

/**
 * Format pagination for display
 *
 * @param page - Current page
 * @param size - Items per page
 * @param total - Total items
 * @returns Formatted string like "Showing 21-40 of 1,234 results"
 *
 * @example
 * ```typescript
 * const display = formatPaginationDisplay(2, 20, 1234);
 * // "Showing 21-40 of 1,234 results"
 * ```
 */
export function formatPaginationDisplay(
  page: number,
  size: number,
  total: number
): string {
  if (total === 0) {
    return 'No results';
  }

  const { start, end } = getPageRange(page, size, total);
  const formattedTotal = total.toLocaleString();

  return `Showing ${start}-${end} of ${formattedTotal} results`;
}
```