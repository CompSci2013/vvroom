---

### Step 608.5: Understanding Usage in App Config

The domain providers are used in the application configuration:

```typescript
// src/app/app.config.ts (document 906)
import { DOMAIN_PROVIDERS } from '../domain-config/domain-providers';

export const appConfig: ApplicationConfig = {
  providers: [
    provideRouter(routes),
    provideHttpClient(),
    ...DOMAIN_PROVIDERS,  // Register all domain configs
  ]
};
```

This makes the domain configuration available throughout the application via dependency injection.

---

### Step 608.6: Adding a New Domain (Future)

To add a new domain in the future, you would:

1. Create the domain directory: `src/app/domain-config/new-domain/`
2. Implement models, adapters, and configs (Phases 4-6 for new domain)
3. Export `DOMAIN_PROVIDER` from `new-domain/index.ts`
4. Add to domain-providers.ts:

```typescript
import { DOMAIN_PROVIDER as automobileDomainProvider } from './automobile';
import { DOMAIN_PROVIDER as newDomainProvider } from './new-domain';

export const DOMAIN_PROVIDERS: Provider[] = [
  automobileDomainProvider,
  newDomainProvider,  // Add new domain
];
```

5. Add routes for the new domain in `app.routes.ts`

That's it. No changes to framework code.

---

## Verification

### 1. Verify File Created

```bash
$ ls -la src/app/domain-config/domain-providers.ts
```

Expected: File exists.

### 2. Verify TypeScript Compilation

```bash
$ cd ~/projects/vvroom
$ npx tsc --noEmit src/app/domain-config/domain-providers.ts
```

Expected: No compilation errors.

### 3. Verify Export

```bash
$ grep "^export const DOMAIN_PROVIDERS" src/app/domain-config/domain-providers.ts
```

Expected: `export const DOMAIN_PROVIDERS: Provider[] = [`

### 4. Verify Provider Count

```bash
$ grep -c "DomainProvider" src/app/domain-config/domain-providers.ts
```

Expected: `1` (automobileDomainProvider only)

---

## Common Problems

| Symptom | Cause | Solution |
|---------|-------|----------|
| "Cannot find module './automobile'" | Barrel export missing | Ensure automobile/index.ts exists and exports DOMAIN_PROVIDER |
| "DOMAIN_PROVIDER is not exported" | Export missing from domain config | Add `export const DOMAIN_PROVIDER` to automobile.domain-config.ts |
| "Provider[] is not a type" | Missing import | Add `import { Provider } from '@angular/core';` |
| Circular dependency error | Domain imports from framework that imports domain | Check import paths; domain should only import from framework |