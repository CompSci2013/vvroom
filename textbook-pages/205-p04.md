---

### Step 205.2: Update the Barrel Export

Update `src/app/framework/models/index.ts` to include the new interface:

```typescript
// src/app/framework/models/index.ts

// This barrel file exports all framework model interfaces.
// Import from '@app/framework/models' instead of individual files.

export * from './domain-config.interface';
export * from './resource-management.interface';
export * from './filter-definition.interface';
export * from './table-config.interface';
export * from './picker-config.interface';
```

---

### Step 205.3: Understand the Picker Architecture

Pickers have three key responsibilities:

| Responsibility | Configuration | Purpose |
|---------------|---------------|---------|
| **Data Fetching** | `api` | Load data from API with pagination/search |
| **Row Identity** | `row` | Generate/parse unique keys for each row |
| **URL Sync** | `selection` | Serialize/deserialize selections to/from URL |

**The hydration problem:**

When a user loads a URL like `?manufacturers=Ford,Toyota`, the picker must:

1. Parse the URL to get selection keys: `["Ford", "Toyota"]`
2. Store these as `pendingHydration`
3. Fetch data from API
4. Match loaded data against pending keys
5. Move matched items to `selectedItems`

This is why `keyParser` exists â€” it creates partial objects that can be matched against full data objects.

---

### Step 205.4: Example Automobile Picker Configuration

Here's how an automobile picker would be configured (you'll create this in Phase 6):

```typescript
// Preview: src/app/domain-config/automobile/configs/automobile.picker-configs.ts

import { PickerConfig, getDefaultPaginationConfig } from '@app/framework/models';

interface ManufacturerOption {
  name: string;
  country: string;
  vehicleCount: number;
}

export const MANUFACTURER_PICKER_CONFIG: PickerConfig<ManufacturerOption> = {
  id: 'manufacturer-picker',
  displayName: 'Select Manufacturers',
  columns: [
    { field: 'name', header: 'Manufacturer', sortable: true },
    { field: 'country', header: 'Country', sortable: true },
    { field: 'vehicleCount', header: 'Vehicles', sortable: true, align: 'right' }
  ],
  api: {
    fetchData: (params) => {
      // Injected via service
      return null as any;
    },
    responseTransformer: (response) => ({
      results: response.data,
      total: response.meta.total
    })
  },
  row: {
    keyGenerator: (row) => row.name,
    keyParser: (key) => ({ name: key })
  },
  selection: {
    mode: 'multiple',
    urlParam: 'manufacturer',
    serializer: (items) => items.map(i => i.name).join(','),
    deserializer: (url) => url.split(',').map(name => ({ name }))
  },
  pagination: getDefaultPaginationConfig(),
  showSearch: true,
  searchPlaceholder: 'Search manufacturers...'
};
```