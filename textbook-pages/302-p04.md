---

### Step 302.2: Update the Barrel File

Update `src/app/framework/services/index.ts` to export the new service:

```typescript
// src/app/framework/services/index.ts
// VERSION 2 (Section 302) - Added ApiService

export * from './url-state.service';
export * from './api.service';
```

---

### Step 302.3: Ensure HttpClientModule is Imported

The `ApiService` depends on `HttpClient`, which requires `HttpClientModule` to be imported in the app module.

Verify `src/app/app.module.ts` includes:

```typescript
// src/app/app.module.ts
// Ensure HttpClientModule is imported

import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { HttpClientModule } from '@angular/common/http';  // <-- Required

import { AppRoutingModule } from './app-routing.module';
import { AppComponent } from './app.component';

@NgModule({
  declarations: [
    AppComponent
  ],
  imports: [
    BrowserModule,
    AppRoutingModule,
    HttpClientModule  // <-- Must be here
  ],
  providers: [],
  bootstrap: [AppComponent]
})
export class AppModule { }
```

If `HttpClientModule` is missing, add it as shown.

---

## Verification

### 1. Check File Exists

```bash
$ ls -la src/app/framework/services/
```

Expected output includes:

```
-rw-r--r-- 1 user user 7234 Feb  9 12:00 api.service.ts
```

### 2. TypeScript Compilation Check

```bash
$ cd ~/projects/vvroom
$ npx tsc --noEmit src/app/framework/services/api.service.ts
```

Expected: No output (no compilation errors).

### 3. Build the Application

```bash
$ ng build
```

Expected: Build succeeds with no errors.

### 4. Verify in Browser (Optional)

If you have a working API endpoint, you can test:

```typescript
// Temporary test in any component
constructor(private api: ApiService) {
  this.api.get<any>('http://generic-prime.minilab/api/specs/v1/automobiles', {
    params: { page: 1, size: 5 }
  }).subscribe({
    next: response => console.log('API Response:', response),
    error: err => console.error('API Error:', err)
  });
}
```