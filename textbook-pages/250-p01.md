# 250: RxJS Patterns Primer

**Status:** Planning
**Depends On:** 209-error-notification-interface
**Blocks:** 301-url-state-service

---

## Learning Objectives

After completing this section, you will:
- Understand why Observables are well-suited for modeling state that changes over time
- Know how to use the key RxJS operators used in vvroom: `switchMap`, `combineLatest`, `distinctUntilChanged`, `shareReplay`
- Be able to apply proper cleanup patterns to prevent memory leaks

---

## Objective

Build practical RxJS knowledge before tackling the framework services in Phase 3. This is a teaching interlude focused on the specific RxJS patterns used in vvroom â€” it's practical, not comprehensive.

---

## Why This Interlude Exists

Phase 3 introduces services like `UrlStateService` and `ResourceManagementService` that use RxJS extensively:

```typescript
// From UrlStateService (Section 301)
this.filters$ = this.route.queryParams.pipe(
  map(params => this.urlMapper.fromUrlParams(params)),
  distinctUntilChanged((a, b) => JSON.stringify(a) === JSON.stringify(b)),
  shareReplay(1)
);

// From ResourceManagementService (Section 306)
this.results$ = this.filters$.pipe(
  switchMap(filters => this.apiAdapter.fetchData(filters)),
  map(response => response.results),
  shareReplay(1)
);
```

If you've never used RxJS, this code is confusing. What does `switchMap` do? Why `shareReplay(1)`? This primer answers those questions with practical examples.

---

## What Are Observables?

### The Problem: Modeling Change Over Time

Traditional variables represent a value at a single point in time:

```typescript
let count = 0;
count = 1;
count = 2;
// Each assignment replaces the previous value
```

But in UI applications, we often need to react to changes:
- When the URL changes, update the display
- When a filter changes, fetch new data
- When data arrives, update the table

Observables model **sequences of values over time**:

```typescript
// Observable of values: 0, then 1, then 2, over time
const count$ = interval(1000); // Emits 0, 1, 2, ... every second

count$.subscribe(value => {
  console.log(value); // Logs each value as it arrives
});
```

The `$` suffix is a naming convention indicating "this is an Observable."