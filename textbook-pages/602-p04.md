---

### Step 602.4: Understanding State Persistence

The `stateStorage: 'local'` and `stateKey: 'auto-vehicles-state'` settings save table state:

**What gets saved:**
- Column widths (after user resizes)
- Column order (after user reorders)
- Sort column and direction
- Current page number
- Rows per page selection
- Column filters

**Where it's saved:**
- `localStorage` with key `auto-vehicles-state`

**When it's restored:**
- On page reload, the table returns to the user's last state

This provides a personalized experience without requiring server-side storage.

---

### Step 602.5: Understanding Row Expansion

The `expandable: true` and `dataKey: 'vehicle_id'` settings enable row expansion:

```
┌────────────────┬────────────┬──────┬────────────┬───────────┐
│ Manufacturer   │ Model      │ Year │ Body Class │ VIN Count │
├────────────────┼────────────┼──────┼────────────┼───────────┤
│ ▶ Toyota       │ Camry      │ 2023 │ Sedan      │ 1,234     │
├────────────────┼────────────┼──────┼────────────┼───────────┤
│ ▼ Honda        │ Civic      │ 2022 │ Sedan      │ 987       │
│   ┌──────────────────────────────────────────────────────┐  │
│   │ VIN Instances (987 total)                            │  │
│   │ ┌──────────────────────────────────────────────────┐ │  │
│   │ │ 1HGBH41JXMN109186 │ First Seen: 2022-01-15      │ │  │
│   │ │ 1HGBH41JXMN109187 │ First Seen: 2022-01-16      │ │  │
│   │ │ 1HGBH41JXMN109188 │ First Seen: 2022-01-17      │ │  │
│   │ └──────────────────────────────────────────────────┘ │  │
│   └──────────────────────────────────────────────────────┘  │
├────────────────┼────────────┼──────┼────────────┼───────────┤
│ ▶ Ford         │ F-150      │ 2023 │ Truck      │ 2,345     │
└────────────────┴────────────┴──────┴────────────┴───────────┘
```

The `dataKey` identifies which row is expanded. Without a unique key, expansion state would be lost on sort/filter.

---

## Verification

### 1. Verify File Created

```bash
$ ls -la src/app/domain-config/automobile/configs/automobile.table-config.ts
```

Expected: File exists with correct size.