---

### Step 310.2: Update the Barrel File

Update `src/app/framework/services/index.ts`:

```typescript
// src/app/framework/services/index.ts
// VERSION 9 (Section 310) - Added FilterOptionsService

export * from './url-state.service';
export * from './api.service';
export * from './request-coordinator.service';
export * from './domain-config-registry.service';
export * from './domain-config-validator.service';
export * from './popout-context.service';
export * from './popout-manager.service';
export * from './user-preferences.service';
export * from './filter-options.service';
export * from './resource-management.service';
```

---

## Verification

### 1. Check File Exists

```bash
$ ls -la src/app/framework/services/filter-options.service.ts
```

### 2. TypeScript Compilation Check

```bash
$ npx tsc --noEmit src/app/framework/services/filter-options.service.ts
```

### 3. Build the Application

```bash
$ ng build
```

### 4. Verify Caching (Optional)

```typescript
// In any component
constructor(private filterOptions: FilterOptionsService) {
  // First call - API request
  this.filterOptions.getOptions(
    'http://example.com/api/options',
    'testField',
    (res: any) => res.data.map((d: any) => ({ value: d.id, label: d.name }))
  ).subscribe(options => {
    console.log('First call:', options);
  });

  // Second call (1s later) - from cache
  setTimeout(() => {
    this.filterOptions.getOptions(
      'http://example.com/api/options',
      'testField'
    ).subscribe(options => {
      console.log('Second call (cached):', options);
    });
  }, 1000);
}
```

Network tab should show only 1 request.

---

## Common Problems

| Symptom | Cause | Solution |
|---------|-------|----------|
| Options not cached | Different endpoint URLs | Ensure exact same URL string |
| Transformer not applied | Raw response missing | Check API returns data |
| Pop-out missing options | syncFromExternal not called | Call after receiving state |
| Cache stale | No invalidation | Call invalidate() when needed |
| Type errors | Transformer return type | Ensure returns FilterOption[] |