---

## Verification

### 1. Check File Exists

```bash
$ ls -la src/app/framework/models/filter-definition.interface.ts
```

Expected output shows the file exists.

### 2. TypeScript Compilation Check

```bash
$ cd ~/projects/vvroom
$ npx tsc --noEmit src/app/framework/models/filter-definition.interface.ts
```

Expected: No output (no compilation errors).

### 3. Verify Exports

```bash
$ grep "^export" src/app/framework/models/filter-definition.interface.ts
```

Expected output:

```
export interface RangeConfig {
export interface FilterDefinition<T = any> {
export interface FilterOption {
export function defaultOptionsTransformer(response: {
export function getUrlParamNames(filter: FilterDefinition): string[] {
export function isRangeFilter(filter: FilterDefinition): boolean {
export function hasRangeUrlParams(
```

### 4. Verify Barrel Export

```bash
$ grep "filter-definition" src/app/framework/models/index.ts
```

Expected output:

```
export * from './filter-definition.interface';
```

---

## Common Problems

| Symptom | Cause | Solution |
|---------|-------|----------|
| `Type 'keyof T' cannot be used` | TypeScript version too old | Ensure TypeScript 4.x or higher |
| Range filter not rendering | Missing `rangeConfig` property | Add `rangeConfig` when `type: 'range'` |
| Options not loading | Wrong `optionsEndpoint` value | Check API endpoint path is correct |
| Filter not updating URL | Wrong `urlParams` value | Verify URL param name matches expected |
| Type error on `urlParams` | Using wrong format | Use string for simple, object for range |

---

## Key Takeaways

1. **Configuration-driven UI eliminates custom components** — Define filter behavior in configuration, not code
2. **TypeScript generics ensure type safety** — `FilterDefinition<T>` validates that `field` matches a property in T
3. **URL parameter mapping enables URL-First architecture** — Each filter knows exactly which URL params it controls

---

## Acceptance Criteria

- [ ] `src/app/framework/models/filter-definition.interface.ts` exists
- [ ] `FilterDefinition<T>` interface is generic with type-safe `field` property
- [ ] `RangeConfig` interface defines all range filter options
- [ ] `FilterOption` interface defines multiselect option structure
- [ ] `urlParams` property supports both string and min/max object formats
- [ ] Utility functions `getUrlParamNames`, `isRangeFilter`, `hasRangeUrlParams` are implemented
- [ ] `defaultOptionsTransformer` function handles standard API response format
- [ ] Barrel file exports all filter definition types
- [ ] TypeScript compilation succeeds with no errors
- [ ] All interfaces have JSDoc documentation with examples