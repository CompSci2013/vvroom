---

## Common Problems

| Symptom | Cause | Solution |
|---------|-------|----------|
| Charts don't render | `domainConfig` not provided | Verify @Input or registry fallback |
| Drag not working | CDK module not imported | Add `DragDropModule` to imports |
| Pop-out placeholder not showing | `isPanelPoppedOut` not bound | Verify parent passes the function |
| Click not updating URL | Data source not found | Verify chartId matches key in `chartDataSources` |
| Charts overlap during drag | Missing CSS position | Ensure `.chart-box` has `position: relative` |

---

## Key Takeaways

1. **Horizontal CDK orientation with wrap** — Flexbox handles row wrapping automatically
2. **Pop-out awareness is bidirectional** — Component knows when it's in a pop-out AND when its charts are popped out
3. **URL updates delegate to data sources** — The panel doesn't know URL structure; data sources handle that

---

## Acceptance Criteria

- [ ] `StatisticsPanel2Component` accepts `domainConfig`, `chartIds`, and `isPanelPoppedOut` inputs
- [ ] Charts render in a 2-column grid (1 column on mobile)
- [ ] Charts can be reordered via horizontal drag-and-drop
- [ ] Drag handle appears in top-left corner of each chart
- [ ] Chart clicks update URL state via data source's `toUrlParams()`
- [ ] When in pop-out window, clicks send messages to parent
- [ ] Pop-out placeholder shows when a chart is in a separate window
- [ ] "No data" message shows when `statistics$` is null
- [ ] Component is registered in `FrameworkModule`
- [ ] `ng build` completes with no errors

---

## Next Step

Proceed to `809-dockview-statistics-panel.md` to build the tabbed/dockable statistics panel using Dockview.