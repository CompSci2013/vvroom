---

## Verification

### 1. Build the Application

```bash
$ cd ~/projects/vvroom
$ ng build
```

Expected: Build succeeds with no errors.

### 2. Check CDK Installation

```bash
$ npm list @angular/cdk
```

Expected: Shows CDK version installed.

### 3. Verify Drag-Drop Import

```bash
$ grep "DragDropModule" src/app/framework/framework.module.ts
```

Expected: `DragDropModule` is in imports array.

### 4. Manual Inspection

Check `src/app/framework/components/statistics-panel/statistics-panel.component.html`:
- `cdkDropList` is on the grid container
- `cdkDrag` is on each chart box
- `cdkDragHandle` is on the drag handle element

---

## Common Problems

| Symptom | Cause | Solution |
|---------|-------|----------|
| `No provider for DragDropModule` | Module not imported | Add `DragDropModule` to imports in `FrameworkModule` |
| Charts don't reorder | `cdkDrag` not on correct element | Ensure `cdkDrag` is on `.chart-box` div |
| Drag preview looks wrong | Missing CDK styles | Ensure `.cdk-drag-preview` and `.cdk-drag-placeholder` styles are defined |
| Charts overlap during drag | Missing `position: relative` | Add `position: relative` to `.chart-box` |
| Click events fire during drag | CDK captures events | This is expected; CDK handles the separation |

---

## Key Takeaways

1. **CDK provides powerful primitives** - Drag-drop without a full UI library
2. **Composition over inheritance** - StatisticsPanel composes BaseChartComponents
3. **URL updates flow through data sources** - The panel doesn't know how to update URLs; it delegates to data sources

---

## Acceptance Criteria

- [ ] `@angular/cdk` is installed and listed in `package.json`
- [ ] `StatisticsPanelComponent` accepts `domainConfig` and optional `chartIds` inputs
- [ ] Charts render in a grid layout (2 per row on desktop, 1 per row on mobile)
- [ ] Charts can be reordered via drag-and-drop
- [ ] Drag handle appears on hover
- [ ] Chart clicks update URL state via data source's `toUrlParams()`
- [ ] Pop-out placeholder shows when a chart is in a separate window
- [ ] "No data" message shows when `statistics$` is null
- [ ] Component is registered in `FrameworkModule`
- [ ] `ng build` completes with no errors